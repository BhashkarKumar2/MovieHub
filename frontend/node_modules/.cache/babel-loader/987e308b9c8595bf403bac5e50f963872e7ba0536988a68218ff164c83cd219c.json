{"ast":null,"code":"import _objectSpread from\"C:/Users/bhash/OneDrive/Desktop/movievercelsssss/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=\"http://localhost:5000/movies\";const MovieForm=_ref=>{let{onSubmit,movies}=_ref;const{id}=useParams();const navigate=useNavigate();const[movie,setMovie]=useState({title:\"\",genre:\"\",year:\"\",poster:\"\",trailer:\"\",director:\"\"});useEffect(()=>{if(id){const existingMovie=movies.find(m=>m._id===id);if(existingMovie)setMovie(existingMovie);}},[id,movies]);const handleChange=e=>{setMovie(_objectSpread(_objectSpread({},movie),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();console.log(\"Submitting movie data:\",movie);// Log the movie data\nif(id){await axios.put(\"\".concat(API_URL,\"/\").concat(id),movie);}else{await axios.post(API_URL,movie);}navigate(\"/movies\");};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-500 to-purple-600\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"max-w-lg w-full p-8 bg-white rounded-lg shadow-lg grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/movies\",className:\"text-red-500 hover:underline hover:text-blue-700 transition duration-200 \",children:\"Go to Movies Page\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"col-span-2 text-3xl font-bold mb-6 text-center text-blue-600\",children:id?\"Edit Movie\":\"Add Movie\"}),[\"title\",\"genre\",\"year\",\"poster\",\"trailer\",\"director\"].map((field,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-semibold mb-1\",htmlFor:field,children:field.charAt(0).toUpperCase()+field.slice(1)}),/*#__PURE__*/_jsx(\"input\",{type:field===\"year\"?\"number\":\"text\",name:field,value:movie[field],onChange:handleChange,placeholder:\"Enter \".concat(field.charAt(0).toUpperCase()+field.slice(1)),required:true,className:\"w-full p-3 border border-gray-300 rounded transition duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400\"})]},index)),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"col-span-2 w-full bg-green-500 text-white px-4 py-2 rounded hover:fade-in transition duration-200\",children:[id?\"Update\":\"Add\",\" Movie\"]})]})});};export default MovieForm;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","API_URL","MovieForm","_ref","onSubmit","movies","id","navigate","movie","setMovie","title","genre","year","poster","trailer","director","existingMovie","find","m","_id","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","console","log","put","concat","post","className","children","href","map","field","index","htmlFor","charAt","toUpperCase","slice","type","onChange","placeholder","required"],"sources":["C:/Users/bhash/OneDrive/Desktop/movievercelsssss/frontend/src/components/MovieForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:5000/movies\";\r\n\r\nconst MovieForm = ({ onSubmit, movies }) => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [movie, setMovie] = useState({ title: \"\", genre: \"\", year: \"\", poster: \"\", trailer: \"\", director: \"\" });\r\n\r\n    useEffect(() => {\r\n        if (id) {\r\n            const existingMovie = movies.find((m) => m._id === id);\r\n            if (existingMovie) setMovie(existingMovie);\r\n        }\r\n    }, [id, movies]);\r\n\r\n    const handleChange = (e) => {\r\n        setMovie({ ...movie, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        console.log(\"Submitting movie data:\", movie); // Log the movie data\r\n        if (id) {\r\n            await axios.put(`${API_URL}/${id}`, movie);\r\n        } else {\r\n            await axios.post(API_URL, movie);\r\n        }\r\n        navigate(\"/movies\");\r\n    };\r\n\r\n    return ( \r\n         <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-500 to-purple-600\">\r\n            <form onSubmit={handleSubmit} className=\"max-w-lg w-full p-8 bg-white rounded-lg shadow-lg grid grid-cols-2 gap-4\">\r\n            \r\n            <a href=\"/movies\" className=\"text-red-500 hover:underline hover:text-blue-700 transition duration-200 \">Go to Movies Page</a>\r\n\r\n                <h2 className=\"col-span-2 text-3xl font-bold mb-6 text-center text-blue-600\">{id ? \"Edit Movie\" : \"Add Movie\"}</h2>\r\n                {[\"title\", \"genre\", \"year\", \"poster\", \"trailer\", \"director\"].map((field, index) => (\r\n                    <div key={index} className=\"mb-4\">\r\n                        <label className=\"block text-gray-700 font-semibold mb-1\" htmlFor={field}>{field.charAt(0).toUpperCase() + field.slice(1)}</label>\r\n                        <input\r\n                            type={field === \"year\" ? \"number\" : \"text\"}\r\n                            name={field}\r\n                            value={movie[field]}\r\n                            onChange={handleChange}\r\n                            placeholder={`Enter ${field.charAt(0).toUpperCase() + field.slice(1)}`}\r\n                            required\r\n                            className={`w-full p-3 border border-gray-300 rounded transition duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400`}\r\n                        />\r\n                    </div>\r\n                ))}\r\n                <button type=\"submit\" className=\"col-span-2 w-full bg-green-500 text-white px-4 py-2 rounded hover:fade-in transition duration-200\">{id ? \"Update\" : \"Add\"} Movie</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MovieForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}