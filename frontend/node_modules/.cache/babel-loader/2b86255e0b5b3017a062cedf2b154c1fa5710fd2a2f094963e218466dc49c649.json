{"ast":null,"code":"import React from\"react\";import{useAuth}from'../context/AuthContext';// Import the useAuth hook\nimport{Link}from\"react-router-dom\";import axios from\"axios\";import'../index.css';// Importing the main CSS file with Tailwind\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_URL=\"http://localhost:5000/movies\";const MoviesPage=_ref=>{let{movies,onEdit,onDelete}=_ref;const{user}=useAuth();// Access user data from context\nconst handleDelete=async id=>{await axios.delete(\"\".concat(API_URL,\"/\").concat(id));onDelete(id);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-b from-gray-200 to-gray-400 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mt-10 mx-auto p-6 bg-white rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-bold text-center mb-8 text-purple-900\",children:\"Movies List\"}),user&&user.role==='admin'&&/*#__PURE__*/_jsx(Link,{to:\"/add-movie\",className:\"text-blue-700 hover:underline mb-6 block text-center text-lg\",children:\"Add New Movie\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8\",children:movies.map(movie=>/*#__PURE__*/_jsx(\"li\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-blue-300 bg-teal-500 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow duration-300 w-full h-full flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-semibold text-gray-800 text-center mb-4\",children:movie.title}),/*#__PURE__*/_jsx(\"img\",{src:movie.poster,alt:\"\".concat(movie.title,\" Poster\"),className:\"w-40 h-60 object-cover rounded mb-4\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 text-center mb-2\",children:[\"Genre: \",movie.genre]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 text-center mb-4\",children:[\"Year: \",movie.year]}),/*#__PURE__*/_jsx(\"a\",{href:movie.trailer,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-500 hover:underline mb-4\",children:\"Watch Trailer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex justify-between w-full\",children:user&&user.role==='admin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onEdit(movie),className:\"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition duration-200\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(movie._id),className:\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition duration-200\",children:\"Delete\"})]})})]})},movie._id))})]})});};export default MoviesPage;","map":{"version":3,"names":["React","useAuth","Link","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_URL","MoviesPage","_ref","movies","onEdit","onDelete","user","handleDelete","id","delete","concat","className","children","role","to","map","movie","title","src","poster","alt","genre","year","href","trailer","target","rel","onClick","_id"],"sources":["C:/Users/bhash/OneDrive/Desktop/movievercelsssss/frontend/src/components/MoviesPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { useAuth } from '../context/AuthContext'; // Import the useAuth hook\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport '../index.css'; // Importing the main CSS file with Tailwind\r\n\r\nconst API_URL = \"http://localhost:5000/movies\";\r\n\r\nconst MoviesPage = ({ movies, onEdit, onDelete }) => {\r\n    const { user } = useAuth(); // Access user data from context\r\n\r\n    const handleDelete = async (id) => {\r\n        await axios.delete(`${API_URL}/${id}`);\r\n        onDelete(id);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-b from-gray-200 to-gray-400 p-6\">\r\n            <div className=\"max-w-6xl mt-10 mx-auto p-6 bg-white rounded-lg shadow-lg\">\r\n                <h2 className=\"text-4xl font-bold text-center mb-8 text-purple-900\">Movies List</h2>\r\n                {user && user.role === 'admin' && (\r\n                    <Link to=\"/add-movie\" className=\"text-blue-700 hover:underline mb-6 block text-center text-lg\">Add New Movie</Link>\r\n                )}\r\n\r\n                <ul className=\"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8\">\r\n                    {movies.map((movie) => (\r\n                        <li key={movie._id} className=\"mb-6\">\r\n                            <div className=\"bg-white border border-blue-300 bg-teal-500 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow duration-300 w-full h-full flex flex-col items-center\">\r\n                                <h3 className=\"text-2xl font-semibold text-gray-800 text-center mb-4\">{movie.title}</h3>\r\n                                <img src={movie.poster} alt={`${movie.title} Poster`} className=\"w-40 h-60 object-cover rounded mb-4\" />\r\n                                <p className=\"text-gray-700 text-center mb-2\">Genre: {movie.genre}</p>\r\n                                <p className=\"text-gray-700 text-center mb-4\">Year: {movie.year}</p>\r\n                                <a href={movie.trailer} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-500 hover:underline mb-4\">Watch Trailer</a>\r\n                                <div className=\"mt-4 flex justify-between w-full\">\r\n                                    {user && user.role === 'admin' && (\r\n                                        <>\r\n                                            <button onClick={() => onEdit(movie)} className=\"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition duration-200\">Edit</button>\r\n                                            <button onClick={() => handleDelete(movie._id)} className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition duration-200\">Delete</button>\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MoviesPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}