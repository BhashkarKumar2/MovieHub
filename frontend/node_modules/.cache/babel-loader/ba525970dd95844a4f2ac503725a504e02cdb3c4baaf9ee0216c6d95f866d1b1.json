{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{BrowserRouter as Router,Route,Routes,useNavigate}from\"react-router-dom\";import axios from\"axios\";import MovieForm from\"./components/MovieForm\";import MoviesPage from\"./components/MoviesPage\";import Login from\"./components/Login\";// Importing the Login component\nimport Register from\"./components/Register\";// Importing the Register component\nimport{AuthProvider}from\"./context/AuthContext\";// Importing AuthProvider\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=\"http://localhost:5000/movies\";const App=()=>{const[movies,setMovies]=useState([]);const navigate=useNavigate();// Fetch movies from MongoDB\nuseEffect(()=>{axios.get(API_URL).then(response=>setMovies(response.data)).catch(error=>console.error(\"Error fetching movies:\",error));},[]);// Handle movie addition or update\nconst addOrUpdateMovie=async(movie,isEdit)=>{if(isEdit){const response=await axios.put(\"\".concat(API_URL,\"/\").concat(movie._id),movie);setMovies(movies.map(m=>m._id===movie._id?response.data:m));}else{const response=await axios.post(API_URL,movie);setMovies([...movies,response.data]);}};// Handle movie deletion\nconst deleteMovie=id=>{setMovies(movies.filter(movie=>movie._id!==id));};// Navigate to edit movie page\nconst handleEdit=movie=>{navigate(\"/edit-movie/\".concat(movie._id));};return/*#__PURE__*/_jsxs(AuthProvider,{children:[\" \",/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Login,{})}),\" \",/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),\" \",/*#__PURE__*/_jsx(Route,{path:\"/edit-movie/:id\",element:/*#__PURE__*/_jsx(MovieForm,{onSubmit:addOrUpdateMovie,movies:movies})}),/*#__PURE__*/_jsx(Route,{path:\"/movieform\",element:/*#__PURE__*/_jsx(MovieForm,{onSubmit:addOrUpdateMovie})}),\" \",/*#__PURE__*/_jsx(Route,{path:\"/movies\",element:/*#__PURE__*/_jsx(MoviesPage,{movies:movies,onEdit:handleEdit,onDelete:deleteMovie})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})})]})]});};const AppWrapper=()=>{return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(App,{})});};export default AppWrapper;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","useNavigate","axios","MovieForm","MoviesPage","Login","Register","AuthProvider","jsx","_jsx","jsxs","_jsxs","API_URL","App","movies","setMovies","navigate","get","then","response","data","catch","error","console","addOrUpdateMovie","movie","isEdit","put","concat","_id","map","m","post","deleteMovie","id","filter","handleEdit","children","path","element","onSubmit","onEdit","onDelete","AppWrapper"],"sources":["C:/Users/bhash/OneDrive/Desktop/movievercelsssss/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Route, Routes, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport MovieForm from \"./components/MovieForm\";\r\nimport MoviesPage from \"./components/MoviesPage\";\r\nimport Login from \"./components/Login\"; // Importing the Login component\r\nimport Register from \"./components/Register\"; // Importing the Register component\r\nimport { AuthProvider } from \"./context/AuthContext\"; // Importing AuthProvider\r\n\r\nconst API_URL = \"http://localhost:5000/movies\";\r\n\r\nconst App = () => {\r\n    const [movies, setMovies] = useState([]);\r\n    const navigate = useNavigate();\r\n\r\n    // Fetch movies from MongoDB\r\n    useEffect(() => {\r\n        axios.get(API_URL)\r\n            .then((response) => setMovies(response.data))\r\n            .catch((error) => console.error(\"Error fetching movies:\", error));\r\n    }, []);\r\n\r\n    // Handle movie addition or update\r\n    const addOrUpdateMovie = async (movie, isEdit) => {\r\n        if (isEdit) {\r\n            const response = await axios.put(`${API_URL}/${movie._id}`, movie);\r\n            setMovies(movies.map((m) => (m._id === movie._id ? response.data : m)));\r\n        } else {\r\n            const response = await axios.post(API_URL, movie);\r\n            setMovies([...movies, response.data]);\r\n        }\r\n    };\r\n\r\n    // Handle movie deletion\r\n    const deleteMovie = (id) => {\r\n        setMovies(movies.filter((movie) => movie._id !== id));\r\n    };\r\n\r\n    // Navigate to edit movie page\r\n    const handleEdit = (movie) => {\r\n        navigate(`/edit-movie/${movie._id}`);\r\n    };\r\n\r\n    return (\r\n        <AuthProvider> {/* Wrapping App with AuthProvider */}\r\n            <Routes>\r\n                <Route path=\"/\" element={<Login />} /> {/* Updated to render Login component */}\r\n                <Route path=\"/register\" element={<Register />} /> {/* Adding the registration route */}\r\n                <Route path=\"/edit-movie/:id\" element={<MovieForm onSubmit={addOrUpdateMovie} movies={movies} />} />\r\n                <Route path=\"/movieform\" element={<MovieForm onSubmit={addOrUpdateMovie} />} /> {/* Added route for MovieForm */}\r\n\r\n                <Route path=\"/movies\" element={<MoviesPage movies={movies} onEdit={handleEdit} onDelete={deleteMovie} />} />\r\n                <Route path=\"/login\" element={<Login />} />\r\n            </Routes>\r\n        </AuthProvider>\r\n    );\r\n};\r\n\r\nconst AppWrapper = () => {\r\n    return (\r\n        <Router>\r\n            <App />\r\n        </Router>\r\n    );\r\n};\r\n\r\nexport default AppWrapper;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}